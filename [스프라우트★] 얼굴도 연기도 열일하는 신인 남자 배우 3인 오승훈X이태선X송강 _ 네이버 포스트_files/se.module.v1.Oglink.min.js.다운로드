/*! SmartEditor3 - v1.0.0 - 2024-12-09
* Copyright (c) 2024 NAVER Corp; Licensed  */

(function(){var htSource={init:function(htData){this._initVideoPlayer(htData);this._initAudioPlayer(htData)},_initVideoPlayer:function(htData){if(!this._shouldChangeToVideoPlayer(htData)){return}this._assignElements(htData);this._showVideoNotice();this._bindVideoPlayEvent()},_initAudioPlayer:function(htData){if(!this._shouldChangeToAudioPlayer(htData)){return}this._assignElements(htData);this._appendPlayerIcon();this._bindAudioPlayEvent()},_assignElements:function(htData){this._htData=htData;this._$elWrap=$jq("#"+htData.viewId);this._$elThumbArea=this._$elWrap.find(".se_og_thumb")},_showVideoNotice:function(){var $notice=this._$elWrap.find(".__se_og_video_notice");$notice.addClass("is-on")},_shouldChangeToVideoPlayer:function(htData){return(se.CONFIG.SERVICE_ID==="blog"||se.CONFIG.SERVICE_ID==="post")&&htData.isVideo&&htData.thumbnail&&this._isYoutube(htData.link)&&!se.module.isLessThanIE10()},_isYoutube:function(sLink){if(sLink.indexOf("youtube")>=0){return true}return false},_bindVideoPlayEvent:function(){this._$elThumbArea.on("click",this._changeThumbToVideoPlayer.bind(this))},_changeThumbToVideoPlayer:function(){if(this._htData.link.indexOf("v=")<0){return}var sVcode=this._htData.link.split("v=")[1].split("&")[0];var sUrl="https://www.youtube.com/embed/"+sVcode;var $elVideo=$jq("<iframe src='"+sUrl+"?autoplay=1&autohide=1' frameborder='0' style='position:absolute;top:0;left:0;width:100%;height:100%'/>");this._$elThumbArea.append($elVideo);this._bindEventAfterReplace();return false},_bindEventAfterReplace:function(){this._$elThumbArea.find("iframe").on("load",function(){this.trigger("onLoadOglink",this._htData)}.bind(this))},_shouldChangeToAudioPlayer:function(moduleData){var link=moduleData.link;return this._isAudioClipUrl(link)||this._isAudioBookUrl(link)},_isAudioClipUrl:function(url){return/https?:\/\/.*audioclip.naver.com\/channels\/\d+\/clips\/\d+/.test(url)},_isAudioBookUrl:function(url){return/https?:\/\/.*audioclip.naver.com\/audiobooks\/\w+/.test(url)},_appendPlayerIcon:function(){var $audioIcon=$jq("<div class='se_og_dim'></div><span class='se_og_icoAudio'><span class='blind'>오디오 재생</span></span>");this._$elThumbArea.prepend($audioIcon)},_bindAudioPlayEvent:function(){this._$elThumbArea.on("click",this._changeThumbToAudioPlayer.bind(this))},_changeThumbToAudioPlayer:function(e){e.preventDefault();var link=this._htData.link;if(this._isAudioClipUrl(link)){var $audioclipPlayer=this._createAudioClipPlayer(link);this._$elThumbArea.append($audioclipPlayer)}else if(this._isAudioBookUrl(link)){var $audiobookPlayer=this._createAudioBookPlayer(link);this._$elThumbArea.append($audiobookPlayer)}},_getAudioPlayerDomain:function(link){if(link.indexOf("dev.audioclip.naver.com")>=0){return"https://dev-player.audiop.naver.com/"}else{return"https://player.audiop.naver.com/"}},_getAudioPlayerFrame:function(src){var $audioPlayer=$jq("<iframe src='' title='오디오 플레이어' frameborder='0' scrolling='no' style='width: 100%; position: absolute; top: 0; left: 0; height: 100%;'></iframe>");$audioPlayer.attr("src",src);return $audioPlayer},_createAudioClipPlayer:function(link){var domain=this._getAudioPlayerDomain(link);var audioClipPlayerParams=/channels\/(\d+)\/clips\/(\d+)/.exec(link);var channelId=audioClipPlayerParams[1];var clipId=audioClipPlayerParams[2];var audioClipSrc=domain+"player?cpId=audioclip&cpMetaId=CH_"+channelId+"_EP_"+clipId+"&partnerKey=f8ae3b53&partnerId=audioclip&extra=";return this._getAudioPlayerFrame(audioClipSrc)},_createAudioBookPlayer:function(link){var domain=this._getAudioPlayerDomain(link);var audioBookPlayerParams=/audiobooks\/(.+)/.exec(link);var bookId=audioBookPlayerParams[1];var audioBookSrc=domain+"player?cpId=audioclip&cpMetaId="+bookId+"&partnerKey=f8ae3b53&partnerId=audioclip&extra=serviceType%3DAUDIOBOOK";return this._getAudioPlayerFrame(audioBookSrc)}};se.defineComponent("se.module.v1.Oglink",htSource);se.defineComponent("se.module.v1.m.Oglink",htSource)})();
//# sourceMappingURL=se.module.v1.Oglink.min.js.map